import{_ as T,r as c,o as N,m as O,c as r,g as U,a as s,w as A,v as B,d as E,F as u,e as f,u as S,f as l,n as V,t as p,i as $}from"./index-vCbE4hjX.js";import{N as D}from"./NavBar-D1RNS1MF.js";import{initializeApp as F}from"https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";import{getFirestore as I,collection as M,getDocs as v,query as K,where as L}from"https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";import{c as P}from"./index-CATPAoTy.js";import"./_commonjsHelpers-gnU0ypJ3.js";const q={id:"explore-page"},z={id:"container-Of-Search-Bar"},G={id:"container-Of-Types"},R=["onClick"],Y={id:"container-Of-People-That-Created-A-Channel"},j=["onClick"],J=["src"],Q={class:"tag"},H=["onClick"],W={__name:"ExploreView",setup(X){const h=S(),g=F({apiKey:"AIzaSyAQpMoxAKJrkave5D9e8CqKeLffCCUeGAw",authDomain:"vexa-d596e.firebaseapp.com",projectId:"vexa-d596e",storageBucket:"vexa-d596e.appspot.com",messagingSenderId:"79833394084",appId:"1:79833394084:web:1e5f41859b4125ef342f31"}),_=I(g),d=M(_,"vexaUsers"),C=P("https://pnaenrrtsasabsbxaeke.supabase.co","<YOUR_ANON_KEY>"),m=c([]),i=c(""),w=["Technology","Sports","Music","News","Gaming","Business"],o=c("");N(async()=>{(await v(d)).forEach(t=>{const e=t.data(),{publicUrl:n}=C.storage.from("logos").getPublicUrl(e.username).data;m.value.push({id:t.id,username:e.username,logoUrl:n,genre:e.genre||""})})});const b=O(()=>m.value.filter(a=>{const t=a.username.toLowerCase().includes(i.value.toLowerCase()),e=o.value?a.genre===o.value:!0;return t&&e}));function x(a){o.value=o.value===a?"":a}async function k(a){const t=K(d,L("username","==",a)),e=await v(t);if(e.empty){alert(`User ${a} not found.`);return}const n=e.docs[0];h.push({name:"ProfileChannel",params:{idOfOwner:n.id,owner:a}})}function y(a){alert(`Following ${a}`)}return(a,t)=>(l(),r(u,null,[U(D),s("div",q,[t[2]||(t[2]=s("h1",{id:"title-Of-Explore-Page"},"Explore",-1)),s("div",z,[A(s("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),placeholder:"Search channels...",id:"search-input"},null,512),[[B,i.value]])]),s("div",G,[(l(),r(u,null,f(w,e=>s("button",{key:e,class:V({"active-tag":o.value===e}),onClick:n=>x(e)},p(e),11,R)),64)),o.value?(l(),r("button",{key:0,class:"clear-tags",onClick:t[1]||(t[1]=e=>o.value="")},"Clear")):E("",!0)]),s("div",Y,[(l(!0),r(u,null,f(b.value,e=>(l(),r("div",{key:e.username,class:"channel-card",onClick:n=>k(e.username)},[s("img",{src:e.logoUrl,alt:"avatar",class:"avatar"},null,8,J),s("h2",null,p(e.username),1),s("p",Q,p(e.genre||"General"),1),s("button",{onClick:$(n=>y(e.username),["stop"])},"Follow",8,H)],8,j))),128))])])],64))}},re=T(W,[["__scopeId","data-v-2a0bb0c2"]]);export{re as default};
