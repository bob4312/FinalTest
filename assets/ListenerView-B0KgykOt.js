import{r as s,c as i,e as d,a as l,w as p,b as _,v as f,f as h}from"./index-si0uBr38.js";import{$ as v}from"./bundler-CViGtuft.js";const b={style:{padding:"2rem","max-width":"600px",margin:"auto"}},g=["disabled"],x={__name:"Listener",setup(c){const o=s(""),r=s(!1),u=s(null);let n=null;function m(){const a=o.value.trim();if(a.length!==5)return alert("Room ID must be 5 characters.");n=new v,n.on("open",()=>{const e=n.call(a,null);e.on("stream",t=>{u.value.srcObject=t,r.value=!0}),e.on("error",t=>{console.error("Call error:",t),alert("Could not connect to host: "+t)})}),n.on("error",e=>{console.error("PeerJS error (listener):",e),alert("Listener error: "+e)})}return(a,e)=>(d(),i("div",b,[e[1]||(e[1]=l("h2",null,"Listener Mode",-1)),e[2]||(e[2]=l("label",{for:"hostId"},"Enter Room ID:",-1)),p(l("input",{id:"hostId","onUpdate:modelValue":e[0]||(e[0]=t=>o.value=t),placeholder:"e.g. abcde",style:{display:"block",width:"100%",margin:".5rem 0",padding:".5rem"}},null,512),[[f,o.value]]),l("button",{onClick:m,disabled:r.value}," ðŸ‘‚ Join Stream ",8,g),r.value?(d(),i("audio",{key:0,ref_key:"remoteAudio",ref:u,autoplay:"",controls:"",style:{display:"block",width:"100%","margin-top":"1rem"}},null,512)):_("",!0)]))}},y={style:{padding:"2rem","max-width":"600px",margin:"auto"}},$={__name:"ListenerView",setup(c){return(o,r)=>(d(),i("div",y,[h(x)]))}};export{$ as default};
