import{_ as j,h as U,r as E,o as R,u as Y,c as a,g as x,d as f,a as e,t as n,b as F,j as G,k as N,F as h,e as P,f as l,l as d}from"./index-D1wTDwKK.js";import{N as S}from"./NavBar-ByN5Qyl5.js";import{initializeApp as D}from"https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";import{getFirestore as V,collection as k,query as T,where as Z,getDocs as w,doc as z,updateDoc as q,arrayUnion as W}from"https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";import{c as O}from"./index-DZTaDg_Z.js";import"./_commonjsHelpers-gnU0ypJ3.js";const K="data:image/webp;base64,UklGRvAEAABXRUJQVlA4TOQEAAAv08A0EFVQ17bNcC3lCBajq9Ooqu5o27Zt21q2bds2sjoZe46uO/vav2o8qa+KQNLm/TvfGUjb5tvi3/Kd1NYmRH8BHAo1btSocSg64AhACALgUDgC4OiwBTbAFECt2wB3AljC/wn/J/yf8P+/+V8k32S5m+0263mGPxaXKFnowCTmwaYxio7IwB+IW1lrYwQLmMMEhjGKGSxhEmW4yvRH4UGOzvgWGxhGSbyJx3iLSozie0TQHg/Y/xi85x1EFPMow1VsB4GKIA7gBioxhjVMRCkupdLfmXTv8xvBAsaQiwsIwos0pMINNTbHmXiPTixgEvV4zEV7V5mqsRjfoQ+vsC2U8IYaWgCAEs4I4SrqYyl+xDjyQHdvaSNYxWI04E5shRTe8IUNkwPCcQofYhBrWI6+eJSL4jJjCN9gChW4FtvDB0/4AgEF1wIAuACCg3iC1liMr6Ir3qRRW1Us4QcsIxP7Q4YcGEwPf+jA0AIAgcCPACS4IOFClMVK/IC5KAhKe5HPWiyjAw+wDyhUgBYkBEcAK8fAgcIHFxAO4CHasYhVZIDKrjDWx4/oiScRDgU+IAihBw41mBZCCAEAJJgXLkgI4RG68XsM4BEnjWVjCRt4G5vDEwp0EADowNBCDQQMxhjYMgkpCOB1/BgmSkBjVRHBMG4AQwdYABgK9jkIQoMXp6IbJtpAYy1hRgNOQoIR/jBgAxifp8OPNOxEIaIYAY11IQo4EG4oYUQQOr4ACgJIxzZ8wNeYjfNJFNaKSJTEATihQYcBgi+ggcAPF3YgAzFM4VwGCmtGBOVxEOmBQcAsOBgKBsAQ7NQgCMCNnZEFMyaCxpqwgeo4HM4ggUMLDMYYClCD6wAMNRizEQG4sAs5YcZEnE+isOYwoyaOwo04oEIBCgMcBWNgAeEPZ+yMnIjGZFxIprCWiEZtHA13xEFQoWBzHAbfEnLEM8KJnciJGKZAewxBxZnIhDgPJdTQgvZaYEYtjsET8Zh4gC7wR4EDbJkeRqSH5WIKhTXDRE0cgxd6cC1QWAkCeBlTMY234Q8cCEIIFARGQDp2IDuiMYVLFAprwUZUx1F4oAcJLWwxAvEcIzEe7xAKHRhWAiMgNbYhM6KYxmUqhXXiq6iKA0gFCRx2KAw8w3jMREZsA7dRAnSkxtbIQCym4yKZwrrxTdRhfyQBBVfDBjAeYTAm4hO2hQFshBAIslENMWlmm8mIr2I6zqansFZ8jY44EanhgxJx2LWoiSY8QiBIg5WtLlia2CFyq6+byXDsgsIrsBZjuBlyOCFBC6saCuTYHZfjWhwCaVCFlIVrQhFOdUx1iGjTGTT2kf9UrCEDe+CGFwqUEELIkMDVIEGMFopRhKJUxbQHEz4hqYB6pJbFkikxNHaDuR2/YRAvEIYEN7zwhhDCE5x7jEuBW3HOPT9CcK/Q1D3VKX4VveqRnjTGnvGMYTr6IieexV3cCfvbuGVuiJvilmKM3f65/Xfbuaseq/eqW82qGfFWm2MXdP6etydWYiHGYwB96IVtD7pNp+gS3Ypz3vPT89f7NyDGxYKIiFGRJxy7oPV7bJUYwSq+Rgz2ZkRirYkIU5iebcwz/5b/mryn/nbsgt4vkJ5yZ0QR4hZEvslVeaJAFDgFnhCi8C/fy/Je++9lXx27SPg/4f+E/xP+T4wV",H="data:image/webp;base64,UklGRqwBAABXRUJQVlA4TKABAAAv08A0ENXIkrVtbRtmZmZmTu5pAdlHNoG7yH2WQNvzb575FJYdvorfMmvkr9xq/Ja5MwSSNvbv/M9A2rahbPsFAom/2A7TNAEx2/+2/23/2/63/b+fP4EIFxIjfmshIUbh9rt8SDINkU1SRABqAWCpALAYVoIkSILkAQdKA8BcAJgWsBIRLaUo3L9DZEsJBzc5qEQ3hjEGX28AbahBMgOWIBcNGMI4GKBe1CMb8vtYil4ogxxFE+6JLw9xBn/fTYf0GqEhoFcA4Tn9YEhd4eXjvj9VVX9dEN4lzReJe8hCMVqhph/C+28aQQq+V57pQnidMF04hiKo6b/wPpkGkTR8olGrILxqqEG/PnTgPPxt8hzh/RuCgfT+/3QdmuMQHnrgJ2B1xedqKFpQCOl97kMIqHdepEN2KMP7EJB3SiA8pP7fD4HeSA+Z+HDHn3pTMPCH+IBU4s3F7+vrIdy+ePLeFLcAgf669HxmUQdLgV8/38+A/PTQWuDjv8TPciRhMYKX0nJYjxijcKMnoM0mCmIS3nuLtJVOzPa/7X/b/6f4Bw==",L="data:image/webp;base64,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",X={key:0,id:"containerHomePage"},_={id:"containerOfProfile"},$={id:"logoContainer"},oo=["src"],eo={id:"nameOfTheChannel"},to={id:"container-Of-Followers-And-Following-Count"},so={id:"followersCountContainer"},io={id:"numOfFollowers"},no={id:"followingCountContainer"},ro={id:"numOfFollowing"},ao={id:"sectionButtons"},lo={id:"ExploreButtonSection"},co={id:"containerOfPreviewAudioStreams"},mo={id:"previewStreamsList"},go={style:{margin:"4px 0",color:"#f0f0f0"}},Ao={style:{margin:"4px 0",color:"#f0f0f0"}},po={style:{margin:"4px 0",color:"#bbb"}},Co={style:{margin:"4px 0",color:"#bbb"}},uo={style:{margin:"4px 0",color:"#bbb"}},Io=["onClick"],Eo={key:1,class:"no-streams",style:{"margin-top":"16px",color:"#ccc"}},xo={__name:"HomeView",setup(fo){const M=D({apiKey:"AIzaSyAQpMoxAKJrkave5D9e8CqKeLffCCUeGAw",authDomain:"vexa-d596e.firebaseapp.com",projectId:"vexa-d596e",storageBucket:"vexa-d596e.appspot.com",messagingSenderId:"79833394084",appId:"1:79833394084:web:1e5f41859b4125ef342f31"}),m=V(M),b=O("https://pnaenrrtsasabsbxaeke.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBuYWVucnJ0c2FzYWFzYnhhZWtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1MjI5ODgsImV4cCI6MjA2NDA5ODk4OH0.bAlA2tC2SPE9F0E5AlGqT_O5Qx8hjHQw7u4MVZXN33Q");function C(){const c=document.cookie.split("; "),o={};for(const r of c){const[t,s]=r.split("=");t&&s!==void 0&&(o[t]=decodeURIComponent(s))}return o}const g=Y(),i=U({username:"",followersCount:0,followingCount:0,logoUrl:""}),A=E([]),u=E(!0);R(async()=>{const o=C().vexaUser;if(!o){alert("You must be logged in to access this page."),g.push("/");return}const r=k(m,"vexaUsers"),t=T(r,Z("username","==",o)),s=await w(t);if(s.empty){alert("User not found."),g.push("/");return}const p=s.docs[0].data();i.username=p.username,i.followersCount=(p.UsersThatFollowsHim||[]).length,i.followingCount=(p.UsersThatHeFollows||[]).length;const{data:B,error:v}=b.storage.from("logos").getPublicUrl(o);v||(i.logoUrl=B.publicUrl);const J=k(m,"vexaRooms"),y=await w(J);A.value=y.docs.map(I=>({id:I.id,...I.data()})),u.value=!1});async function Q(c,o){const t=C().vexaUser;if(!t){alert("You must be logged in to join a room.");return}try{const s=z(m,"vexaRooms",c);await q(s,{"Participants-Usernames":W(t)}),g.push(`/watching/${o}`)}catch(s){console.error("Error joining room:",s),alert("Could not join room. Please try again.")}}return(c,o)=>{const r=N("router-link");return l(),a(h,null,[x(S),u.value?f("",!0):(l(),a("div",X,[e("div",_,[e("div",$,[i.logoUrl?(l(),a("img",{key:0,src:i.logoUrl,alt:"Profile-Logo",id:"user-logo-IMG"},null,8,oo)):f("",!0)]),e("h1",eo,n(i.username),1),e("div",to,[e("div",so,[e("h1",io,n(i.followersCount),1),o[0]||(o[0]=e("h2",{id:"subtitleFollowers"},"Followers",-1))]),e("div",no,[e("h1",ro,n(i.followingCount),1),o[1]||(o[1]=e("h2",{id:"subtitleFollowing"},"Following",-1))])]),e("div",ao,[o[3]||(o[3]=F('<div id="homeButtonSection" data-v-19c35ec3><button id="homeButton" style="border:none;" data-v-19c35ec3><img id="homeIcon" src="'+K+'" data-v-19c35ec3><h1 id="homeTitle" data-v-19c35ec3>Home</h1></button></div><div id="BrowseButtonSection" data-v-19c35ec3><button id="BrowseButton" style="border:none;" data-v-19c35ec3><img id="browseIcon" src="'+H+'" data-v-19c35ec3><h1 id="browseTitle" data-v-19c35ec3>Browse</h1></button></div>',2)),e("div",lo,[x(r,{to:"/explore"},{default:G(()=>o[2]||(o[2]=[e("button",{id:"ExploreButton",style:{border:"none"}},[e("img",{id:"ExploreIcon",src:L}),e("h1",{id:"exploreTitle"},"Explore")],-1)])),_:1,__:[2]})])])]),e("div",co,[o[10]||(o[10]=e("h1",{id:"streamsTitle"},"Available Rooms",-1)),e("div",mo,[A.value.length?(l(!0),a(h,{key:0},P(A.value,t=>(l(),a("div",{key:t.id,class:"stream-item",style:{border:"1px solid #444","border-radius":"8px",padding:"12px","margin-bottom":"12px",background:"#1e1e1e"}},[e("p",go,[o[4]||(o[4]=e("strong",null,"Owner:",-1)),d(" "+n(t["Room-Owner"]||"N/A"),1)]),e("p",Ao,[o[5]||(o[5]=e("strong",null,"Name:",-1)),d(" "+n(t["Room-Name"]||"N/A"),1)]),e("p",po,[o[6]||(o[6]=e("strong",null,"Description:",-1)),d(" "+n(t["Room-Desc"]||"No description"),1)]),e("p",Co,[o[7]||(o[7]=e("strong",null,"Category:",-1)),d(" "+n(Array.isArray(t["Room-Category"])?t["Room-Category"].join(", "):t["Room-Category"]||"Uncategorized"),1)]),e("p",uo,[o[8]||(o[8]=e("strong",null,"Participants:",-1)),d(" "+n(Array.isArray(t["Participants-Usernames"])?t["Participants-Usernames"].length:0),1)]),e("button",{onClick:s=>Q(t.id,t["Room-Owner"]),style:{padding:"6px 12px","margin-top":"8px",background:"#4caf50",color:"white",border:"none","border-radius":"4px",cursor:"pointer"}}," Join ",8,Io)]))),128)):(l(),a("div",Eo,o[9]||(o[9]=[e("p",null,"No streams available.",-1)])))])])]))],64)}}},vo=j(xo,[["__scopeId","data-v-19c35ec3"]]);export{vo as default};
